<!DOCTYPE html>
<html>
<head>
	<title>Map</title>
	<style type="text/css">
		.coordinates{
			position: absolute;
			background-color: black;
			color: white;
			width: 75px;
			height: 35px;
			z-index: 1;
		}
		.map {
			z-index: 0;
			border: 1px solid black;
		}
	</style>
</head>
<body onmousemove="showCoords(event)">
	<img id="map" class="map" src="images/7krender.png">
	<div id="demo" class="coordinates"></div>
	<br>
	<br>
</body>


<script type="text/javascript">
	///script
	function showCoords(event) {
		//Get Cursor-following div
		var d = document.getElementById("demo");
		//Retrieve relative cursor position
		var x = event.screenX +document.documentElement.scrollLeft - 8;
		var y = event.screenY + document.documentElement.scrollTop - 79;
		//Offset position
		var mxpos = x + 17;
		var mypos = y + 20;
		//Make div follow cursor
		d.style.top = mypos +"px";
		d.style.left = mxpos+"px";
		//Create xy coordinates
		var coor = x + ", " + y;
		// HEXES //
		//Fetch Hex Dimensions
		var hexDimensionsX = 48; //X Dimensions of hex
		var hexDimensionsY = 40; //Y dimensions of hex
		//Create offset so that it measures by the centerpoint
		var xHexOffset = hexDimensionsX/2; //x offset
		var yHexOffset = hexDimensionsY/2; //y offset
		//Grab current hex from x, y coords
		var xOffset = x-xHexOffset;
		var yOffset = y-yHexOffset;
		var xh = xOffset/hexDimensionsX;
		var yh = yOffset/hexDimensionsY; //true y


		// var q = ((2/3)*x)/ hexDimensionsY; //column
		// var r = (((-1/3)*x) + ((Math.sqrt(3)/3)*y))/hexDimensionsX; //row


		// if(xh>=0.4 && xh<=0.8){
		// 	//
		// 	yh = yh + 0.5;
		// }


		//To two decimal places
		xHex1 = xh.toFixed(2);
		yHex1 = yh.toFixed(2);
		//Round it to give an accurate hex
		xHex2 = Math.round(xHex1);
		yHex2 = Math.round(yHex1);

		//Fetch hex results
		var hexCoor = xHex1 + ", " + yHex1;
		//Print results
		d.innerHTML = coor + "<br> hex " + hexCoor;	
}

function cube_round(cube){
	//
	var rx = Math.round(cube.x);
	var ry = Math.round(cube.y);
	var rz = Math.round(cube.z);
	///
	var x_diff = Math.abs(rx - cube.x)
	var y_diff = Math.abs(ry - cube.y)
	var z_diff = Math.abs(rz - cube.z)

	if(x_diff > y_diff && x_diff > z_diff){
		//
		rx = -ry-rz;
	} else if(y_diff > z_diff){
		//
		ry = -rx-rz;
	} else {
		//
		rz = -rx-ry;
	}

}

</script>
</html>